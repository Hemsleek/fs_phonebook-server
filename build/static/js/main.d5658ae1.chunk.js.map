{"version":3,"sources":["components/FilterForm.jsx","components/PersonForm.jsx","components/Persons.jsx","services/index.js","components/Notification.jsx","App.js","index.js"],"names":["FilterForm","filtered","setFiltered","value","onChange","e","target","PersonForm","newName","newNumber","setNewNumber","setNewName","handleSubmit","onSubmit","preventDefault","onClick","type","Persons","personsToShow","deletePerson","map","person","personIndex","style","margin","name","number","marginLeft","cursor","baseUrl","personServices","addPerson","data","Axios","post","getAllPerson","id","delete","updatePerson","put","Notification","message","messageText","messageColor","color","border","className","App","useState","persons","setPersons","setMessage","notificationDelay","setTimeout","trim","filter","toLowerCase","includes","useEffect","personService","then","response","catch","err","console","log","personExist","find","item","window","confirm","personUpdate","newPerson","length","Math","max","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5658ae1.chunk.js","sourcesContent":["import React from 'react'\n\nfunction FilterForm({filtered , setFiltered}) {\n    return (\n        \n        <div>\n            filter shown with <input value={filtered} onChange={(e) => setFiltered(e.target.value)}/>\n        </div>\n    )\n}\n\nexport default FilterForm\n","import React from 'react'\n\nfunction PersonForm({newName , newNumber , setNewNumber , setNewName , handleSubmit}) {\n    return (\n        <form onSubmit={(e)=> e.preventDefault()}>\n        <div>\n          name: <input value={newName} onChange={(e) => setNewName(e.target.value)}/>\n        </div>\n        <div>\n          Phonebook: <input value={newNumber} onChange={(e) => setNewNumber(e.target.value)}/>\n        </div>\n        <div>\n          <button onClick={handleSubmit}type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nfunction Persons({personsToShow,deletePerson}) {\n    return (\n        <div>\n            {\n                personsToShow.map((person , personIndex) => <div  style={{margin:\"1rem 0\"}} key={`person${personIndex}`}>\n                <span>{person.name} - {person.number}</span>\n                <button style={{marginLeft:'10px',cursor:'pointer'}}onClick={() => deletePerson(person)}>delete</button>\n                </div>\n                )\n            } \n        </div>\n    )\n}\n\nexport default Persons\n","import Axios from 'axios'\n\nconst baseUrl = '/api/persons/'\n\nconst addPerson = (data) => Axios.post(baseUrl , data)\n\nconst getAllPerson = () => Axios(baseUrl)\n\nconst deletePerson = (id) => Axios.delete(baseUrl + id)\nconst updatePerson = (id , data) => Axios.put(baseUrl + id,data)\n\nconst personServices = {\n    addPerson:addPerson ,\n    getAllPerson:getAllPerson,\n    deletePerson:deletePerson,\n    updatePerson: updatePerson\n}\n\nexport default personServices","import React from 'react'\nimport './Notification.css'\n\nfunction Notification({message: {messageText , messageColor}}) {\n    if(messageText=== null) return null\n\n    return (\n        <div style={{color:messageColor,border:`2px solid ${messageColor}`}} className=\"Notification\">\n            { messageText }\n        </div>\n    )\n}\n\nexport default Notification\n","import React,{useState , useEffect} from 'react'\n\nimport FilterForm from './components/FilterForm';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services';\nimport Notification from './components/Notification'\n\nimport './App.css';\n\nfunction App() {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filtered , setFiltered] = useState('')\n  const [persons, setPersons] = useState([])\n  const [message , setMessage] = useState({messageText:null, messageColor:'green'})\n\n\n\n  const notificationDelay = () =>{\n    setTimeout(() =>{ setMessage({...message,messageText:null}) },3000)\n  }\n\n  const personsToShow = filtered.trim()? persons.filter(person => person.name.toLowerCase().includes(filtered.toLowerCase()) ) : persons\n\n  const generateId = () => persons.length? Math.max(...persons.map(person => person.id)) + 1 : 1\n\n  const handleSubmit = () =>{\n    const personExist = persons.find(item => item.name.toLowerCase()===newName.toLowerCase().trim())\n    if(personExist) {\n      const numberUpdate = window.confirm(`${newName} is already added to the phonebook,replace the old nimber with a new one`)\n      if(numberUpdate){ \n        const personUpdate={...personExist, number:newNumber}\n        personService.updatePerson(personExist.id,personUpdate).then(response=> {\n          setPersons(persons.map(person => person.id === personExist.id? personUpdate : person ))\n          setMessage({...message , messageText:`Updated ${personUpdate.name}`})\n          \n          notificationDelay()\n        }).catch(err=> {\n          setMessage({messageColor:'red', messageText:`information ${personUpdate.name} of has already been removed from server`})\n\n          notificationDelay()\n        })\n      }\n      return null\n    }\n    const newPerson = {\n      name : newName,\n      number : newNumber,\n      id : generateId()\n    }\n\n    personService.addPerson(newPerson).then(response =>{\n      setPersons(persons.concat(response.data))\n      setMessage({...message,messageText:`Added ${newPerson.name}`})\n      setNewName('')\n      setNewNumber('')\n\n     notificationDelay()\n\n    } )\n      .catch(err => console.log(err))\n  }\n\n\n  const handlePersonDelete =(person) => {\n    const id=person.id\n    if(!(window.confirm(`Delete ${person.name} ?`))) return null\n\n    personService.deletePerson(id)\n      .then(() =>{ \n        setPersons(persons.filter(person => person.id!==id)) \n        setMessage({...message, messageText:`Removed ${person.name}`})\n\n        notificationDelay()\n      })\n      .catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    personService.getAllPerson().then(response =>setPersons(response.data))\n      .catch(err => console.log(err))\n  },[])\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      <Notification message = {message} />\n       <FilterForm  filtered={filtered} setFiltered = {setFiltered} />\n        <h2>Add a New</h2>\n       <PersonForm newName = {newName} newNumber={newNumber} setNewNumber={setNewNumber} setNewName = {setNewName} handleSubmit={handleSubmit}  />\n      <h2>Numbers</h2>\n      <Persons deletePerson ={handlePersonDelete} personsToShow={personsToShow} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}